<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>IOT - Messagerie & Tableau de bord</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <header class="site-header glass-blur">
    <div class="logo">IOT</div>
    <nav>
      <a href="index.html">Accueil</a>
      <a href="login.html" class="login-btn-header">Connexion</a>
      <a href="register.html" class="login-btn-header">S’inscrire</a>
    </nav>
  </header>

  <main>
    <!-- SECTION PUBLIQUE (non connecté) -->
    <section id="public-hero" class="hero public-section">
      <div class="hero-inner glass-card">
        <h1 class="hero-title">Plateforme IOT</h1>
        <p class="hero-subtitle">
          Gérez vos objets connectés, consultez leurs données et discutez avec eux
          via une messagerie en temps réel.
        </p>
        <div class="hero-actions">
          <button id="demo-btn" class="btn-primary">Découvrir la plateforme</button>
          <a href="register.html" class="btn-secondary">Créer un compte</a>
        </div>
      </div>
    </section>

    <section id="public-about" class="section public-section">
      <div class="section-inner glass-card">
        <h2>À propos</h2>
        <p>
          Ce site est la base de ton projet IOT : gestion des comptes, profil utilisateur,
          intégration MQTT, et maintenant une messagerie entre ton objet et l’interface web.
        </p>
      </div>
    </section>

    <!-- SECTION CHAT (uniquement quand connecté) -->
    <section id="chat-section" class="section" style="display:none;">
      <div class="chat-layout">
        <div class="chat-panel">
          <div class="chat-header">
            <div>
              <h2>Messagerie avec l’objet connecté</h2>
              <p class="chat-subtitle">
                Messages de l’objet à gauche, tes messages à droite. Envoie-lui des commandes
                ou du texte comme dans une messagerie classique.
              </p>
            </div>
            <span id="chat-status" class="badge badge-status">MQTT : inconnu</span>
          </div>

          <!-- zone des messages -->
          <div id="chat-messages" class="chat-messages-terminal">
            <p class="chat-empty">Aucun message pour l’instant. Envoie un premier message à l’objet.</p>
          </div>

          <!-- barre d’envoi en bas -->
          <form id="chat-form" class="chat-input-row">
            <div class="chat-input-inner">
              <input
                id="chat-input"
                type="text"
                placeholder="Votre message..."
                autocomplete="off"
                required
              />
            </div>
            <button type="submit" class="submit-btn chat-send-btn">Envoyer</button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <p>© <span id="year"></span> IOT — Projet Web & IOT</p>
  </footer>

  <script src="assets/main.js"></script>
</body>
</html>
